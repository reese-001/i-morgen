<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="../styles.css">
		<title>i morgen</title>
		<link rel="icon" href="../images/logo.png">
	</head>
	<body>
		<table width="80%">
			<tr>
				<td width="5%"><img src="../images/logo.png" class="logo"></td>
				<td width="80%"><h1 style="color:hsl(241, 74%, 46%)">i morgen</h1></td>
				
			</tr>
		</table>
		<h2 style="color:#0A45A5;"><a href="../../index.html">home</a>:<a href="../aws.html">aws</a>:sam rest api</h2>
		<p><span style="font-size: 20px;"><strong>Create Rest API via SAM</strong>: <a href="https://www.youtube.com/watch?v=DA3hlLxTl-8">Reference</a></span></p>

		<p><span style="font-size: 18;"><strong>Requirements</strong></span></p>
		<ul>
			<li>Ensure SAM is installed</li>
			<li>Ensure Docker is installed</li>
			<ul>
				<li>Still not working? Check to see if its actually running. Whoops. </li>
			</ul>
			<li>Install AWS Toolkit on VSC</li>
			<ul>
				<li>Ensure you have a valid connection by shift-control-p and typing AWSConnect to AWS </li>
			</ul>
		</ul>
		<p><span style="font-size: 18;"><strong>Creating Lambda Application</strong></span></p>
		<ul>
			<li>Open command pallet and type AWS: create new SAM Application</li>
			<li>Select the appropriate subsequent options</li>
			<li>The output of this process will be the framework for a serverless application - to include a Lambda function</li>
			<li>Run code locally by pressing 'F5'</li>
			<li>Javascript example. Put your code after the 'try' </li>
<pre>
try {
	// const ret = await axios(url);
	response = {
		'statusCode': 200,
		'body': JSON.stringify({
			message: 'hello world this is from Lambda',
			// location: ret.data.trim()
		})
	}
} catch (err) {
	console.log(err);
	return err;
}
</pre>
		</ul>

		<p><span style="font-size: 18;"><strong>Deploying Lambda Application</strong></span></p>
		<ul>
			<li>In terminal: sam deploy --guided</li>
			<li>Populate options as appropriate</li>
			<ul>
				<li>In the event of a rollback, type aws cloudformation delete-stack --stack-name </li>
				
			</ul>
		</ul>